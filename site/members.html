<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Flagaholic - Hong Kong based CTF team focusing on Web, Pwn, Crypto, Forensics, and Misc.">
  
  <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="./assets/favicon/site.webmanifest">
  <meta name="msapplication-TileColor" content="#0f1720">
  <meta name="theme-color" content="#0f1720">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="./css/site.css">
  <link rel="stylesheet" href="./css/members.css">
  
  <title>Members â€” Flagaholic</title>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <img class="logo" src="./assets/teamlogo/teampfp.png" alt="Flagaholic" width="40" height="40" loading="eager" decoding="async">
        <strong>Flagaholic</strong>
      </div>
      <nav>
        <a href="./index.html">Home</a>
        <a href="./members.html">Members</a>
        <a href="./achievements.html">Achievements</a>
        <a href="./writeups.html">Writeups</a>
        <a href="./contact.html">Contact</a>
      </nav>
    </header>
    
    <main class="main">
      <div class="card">
        <h1>Members</h1>
        <div class="members-grid">
          <!-- 
          <div class="member-card" data-social="key:url;key:url:icon;">
            <img src="./assets/playerlogo/{img}.jpg" alt="usr" class="member-avatar">
            <h3>usr</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>skill</span>
            </div>
          </div>
          -->
          <div class="member-card hk special" content="leader" data-social="github:https://github.com/codestube">
            <img src="./assets/playerlogo/youstube.jpg" alt="youstube_" class="member-avatar">
            <h3>youstube_</h3>
            <p class="member-role">Team Leader</p>
            <div class="member-skills">
              <span>Misc</span>
              <span>Forensics</span>
              <span>OSINT</span>
            </div>
          </div>
          
          <div class="member-card hk">
            <img src="./assets/playerlogo/thomas.png" alt="bug1nst0m@ch" class="member-avatar">
            <h3>bug1nst0m@ch</h3>
            <p class="member-role">Not even computer major</p>
            <div class="member-skills">
              <span>Misc</span>
              <span>Forensics</span>
            </div>
          </div>
          
          <div class="member-card hk">
            <img src="./assets/playerlogo/OwO.png" alt="sunny7890987" class="member-avatar">
            <h3>sunny7890987(OWO)</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>Web</span>
            </div>
          </div>
          
          <div class="member-card hk">
            <img src="./assets/playerlogo/NSN.png" alt="Nsn" class="member-avatar">
            <h3>Nsn</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>Hardware</span>
            </div>
          </div>
          
          <div class="member-card hk special" content="dumbass" data-social="github:https://github.com/TaokyleYT">
            <img src="./assets/playerlogo/taokyle.jpeg" alt="Taokyle" class="member-avatar">
            <h3>Taokyle</h3>
            <p class="member-role">website maintainer</p>
            <div class="member-skills">
              <span>Misc</span>
              <span>Web</span>
              <span>Forensics</span>
            </div>
          </div>
          
          <div class="member-card hk special" content="english level U" data-social="github:https://github.com/SISUBEN">
            <img src="./assets/playerlogo/sisubeny.png" alt="SISUBENY" class="member-avatar">
            <h3>SISUBENY</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>Rev</span>
              <span>Pwn</span>
            </div>
          </div>
          
          <div class="member-card hk special" content="roblox lover" data-social="github:https://github.com/twopus">
            <img src="./assets/playerlogo/twopus.png" alt="twopus" class="member-avatar">
            <h3>twopus</h3>
            <p class="member-role">differentiating "ur" & "ure"</p>
            <div class="member-skills">
              <span>Uhh</span>
            </div>
          </div>

          <div class="member-card hk special" content="A Snorlax?" data-social="github:https://github.com/harry-bob">
            <img src="./assets/playerlogo/harrybob.jpg" alt="harrybob" class="member-avatar">
            <h3>HarryBOB</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>Blockchain</span>
            </div>
          </div>

          <div class="member-card hk special" content="KA CHOW!">
            <img src="./assets/playerlogo/carz.jpeg" alt="carz" class="member-avatar">
            <h3>Carz</h3>
            <p class="member-role">a car</p>
            <div class="member-skills">
              <span>Crypto</span>
              <span>Forensics</span>
            </div>
          </div>
          
          <div class="member-card nonhk" data-social="github:https://github.com/xzhiyouu62">
            <img src="./assets/playerlogo/Nelson.jpg" alt="Nelson" class="member-avatar">
            <h3>xzhiyouu(Nelson)</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>Misc</span>
              <span>Forensics</span>
            </div>
          </div>
          
          <div class="member-card nonhk">
            <img src="./assets/playerlogo/B34RN00B.png" alt="B34RN00B" class="member-avatar">
            <h3>B34RN00B</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>OSINT</span>
              <span>Forensics</span>
            </div>
          </div>
          
          <div class="member-card nonhk">
            <img src="./assets/playerlogo/damwan.jpg" alt="damwan21" class="member-avatar">
            <h3>damwan21</h3>
            <p class="member-role"> </p>
            <div class="member-skills">
              <span>OSINT</span>
              <span>Crypto</span>
            </div>
          </div>
          
          <div class="member-card former hk special" content="former">
            <img src="./assets/playerlogo/kazuya.png" alt="Kazuya" class="member-avatar">
            <h3>Kazuya</h3>
            <p class="member-role">Former teammate</p>
            <div class="member-skills">
              <span>Rev</span>
              <span>Web</span>
            </div>
          </div>

        </div>
      </div>
    </main>
  </div>

  <script>
    (function(){
      async function fetchAndStripWhiteBg(src, timeout = 3000) {
        return new Promise((resolve) => {
          try {
            const img = new Image();
            img.crossOrigin = 'anonymous';
            let done = false;
            const finish = (res) => { if (!done) { done = true; resolve(res); } };

            img.onload = () => {
              try {
                const w = img.naturalWidth || img.width || 32;
                const h = img.naturalHeight || img.height || 32;
                const c = document.createElement('canvas');
                c.width = w;
                c.height = h;
                const ctx = c.getContext('2d');
                ctx.drawImage(img, 0, 0, w, h);
                try {
                  const data = ctx.getImageData(0, 0, w, h);
                  const d = data.data;
                  // make near-white (and fully white) pixels transparent
                  for (let i = 0; i < d.length; i += 4) {
                    const r = d[i], g = d[i+1], b = d[i+2], a = d[i+3];
                    // Tune the threshold if you want I just place these numbers and see
                    if (a > 16 && r >= 245 && g >= 245 && b >= 245) {
                      d[i+3] = 0;
                    }
                  }
                  ctx.putImageData(data, 0, 0);
                  finish(c.toDataURL('image/png'));
                } catch (err) {
                  // if getImageData fails (CORS), return null to let fallback happen
                  finish(null);
                }
              } catch (err) {
                finish(null);
              }
            };

            img.onerror = () => finish(null);
            img.src = src;
            setTimeout(() => finish(null), timeout);
          } catch (e) {
            resolve(null);
          }
        });
      }

      // create an element with processed favicon (falls back to emoji)
      async function createFaviconNode(href, overrideIcon, fallbackEmoji) {
        const emojiEl = (() => {
          const s = document.createElement('span');
          s.className = 'member-social-emoji';
          s.textContent = fallbackEmoji || 'ðŸ”—';
          return s;
        })();

        const srcCandidates = [];
        if (overrideIcon) srcCandidates.push(overrideIcon);
        if (href) {
          try {
            const u = new URL(href);
            // google s2 (fast), ddg fallback, favic.one even more fallback, and lastly the site's /favicon.ico
            srcCandidates.push(`https://www.google.com/s2/favicons?domain=${u.hostname}&sz=64`);
            srcCandidates.push(`https://icons.duckduckgo.com/ip3/${u.hostname}.ico`);
            srcCandidates.push(`https://favic.one/api/favicon?url=${u.hostname}&size=64`);
            srcCandidates.push(`${u.origin}/favicon.ico`);
          } catch (e) { }
        }
        for (const src of srcCandidates) {
          if (!src) continue;
          const processed = await fetchAndStripWhiteBg(src);
          const finalSrc = processed || src;
          try {
            const img = document.createElement('img');
            img.className = 'member-social-icon';
            img.alt = '';
            img.src = finalSrc;
            const ok = await new Promise((res) => {
              let done = false;
              img.onload = () => { if (!done) { done = true; res(true); } };
              img.onerror = () => { if (!done) { done = true; res(false); } };
              setTimeout(() => { if (!done) { done = true; res(false); } }, 2500);
            });
            if (ok) return img;
          } catch (e) { }
        }
        return emojiEl;
      }

      function makeAnchor(iconNode, label, href) {
        const a = document.createElement('a');
        a.className = 'member-social-link';
        if (href && /^https?:\/\//i.test(href)) {
          a.href = href;
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
        } else {
          a.setAttribute('role', 'button');
          a.href = '#';
        }
        a.title = label || '';
        a.setAttribute('aria-label', label || '');
        if (iconNode) a.appendChild(iconNode);
        return a;
      }

      const fallbackMap = {
        github: 'ðŸ™',
        git: 'ðŸ™',
        discord: 'ðŸ’¬',
        dc: 'ðŸ’¬',
        instagram: 'ðŸ“¸',
        insta: 'ðŸ“¸',
        ig: 'ðŸ“¸',
        email: 'âœ‰ï¸',
        mail: 'âœ‰ï¸',
        gmail: 'âœ‰ï¸',
      };

      document.querySelectorAll('.member-card').forEach(card => {
        if (card.querySelector('.member-social')) return;
        const raw = card.getAttribute('data-social');
        if (!raw) return;
        const container = document.createElement('div');
        container.className = 'member-social';
        const entries = raw.split(';').map(s => s.trim()).filter(Boolean);
        for (let i = 0; i < entries.length; i++) {
          const placeholder = document.createElement('span');
          placeholder.className = 'member-social-placeholder';
          container.appendChild(placeholder);
        }
        card.appendChild(container);

        (async () => {
          const nodes = [];
          for (const entry of entries) {
            const parts = entry.split(':');
            if (parts.length < 2) continue;
            const key = parts[0].trim().toLowerCase();
            const rest = parts.slice(1).join(':').trim();
            let url = rest;
            let overrideIcon = null;
            const iconMatch = rest.match(/(?:^|;| )icon=(https?:\/\/\S+)/i);
            if (iconMatch) {
              overrideIcon = iconMatch[1].replace(/[),.]+$/,'');
              url = rest.replace(iconMatch[0],'').trim().replace(/^[;:]/,'');
            }
            const label = (key === 'discord') ? rest : (key.charAt(0).toUpperCase() + key.slice(1));
            const fallbackEmoji = fallbackMap[key] || 'ðŸ”—';
            const iconNode = await createFaviconNode(url, overrideIcon, fallbackEmoji);
            const href = (/^https?:\/\//i.test(url) ? url : (key === 'discord' ? null : url));
            const anchor = makeAnchor(iconNode, (key === 'discord' && !href) ? url : label, href);
            nodes.push(anchor);
          }

          const placeholders = container.querySelectorAll('.member-social-placeholder');
          nodes.forEach((n, idx) => {
            const slot = placeholders[idx];
            if (slot) slot.replaceWith(n);
            else container.appendChild(n);
          });
        })().catch(() => { });
      });
    })();
  </script>
</body>
</html>
